'use strict';(function(a,b){function c(a={}){this.options={isUnordered:!0,allowReorder:!0,showDeleteButton:!1,...a},this.element=this.options.isUnordered?b.createElement("UL"):b.createElement("OL"),this.maxSize=100,this.listSize=0,this.inputChecks=[],this.attr={type:"text",placeholder:""},this.element.addEventListener("focusout",a=>{g(a,this)}),this.element.addEventListener("keypress",a=>{"Enter"===a.key&&a.target.blur()}),this.element.addEventListener("dblclick",a=>"INPUT"!==b.activeElement.tagName||e(b.activeElement)&&j(b.activeElement,this)?void("LI"===a.target.tagName&&a.target.firstChild&&"INPUT"!==a.target.firstChild.tagName&&(h(a.target,this),a.target.firstElementChild.select(),["text","password","url"].includes(this.attr.type)&&(a.target.firstElementChild.selectionStart=a.target.firstElementChild.selectionEnd))):(a.preventDefault(),!1)),this.element.addEventListener("input",()=>{const a=[...this.element.querySelectorAll("input")].filter(a=>"submit"!==a.getAttribute("type"));for(let b=0;b<a.length;b++)if(!j(a[b],this)||!a[b].checkValidity())return;this.addListItem()}),this.options.allowReorder&&this.element.addEventListener("dragover",a=>{a.preventDefault();const c=b.querySelector(".dragging");if(!this.element.contains(c))return;let d=null,e=-1*window.outerHeight;const f=[...this.element.children].filter(a=>a!==c);f.forEach(b=>{const c=b.getBoundingClientRect().y;a.clientY-c>e&&0>a.clientY-c&&(d=b,e=c-a.clientY)}),d?d.before(c):this.element.appendChild(c)}),this.options.showDeleteButton&&(this.element.addEventListener("mouseenter",()=>{const a=[...this.element.children];a.forEach(a=>{a.querySelector("input[type=\"submit\"]")&&(a.querySelector("input[type=\"submit\"]").style.visibility="visible")})}),this.element.addEventListener("mouseleave",()=>{const a=[...this.element.children];a.forEach(a=>{a.querySelector("input[type=\"submit\"]")&&(a.querySelector("input[type=\"submit\"]").style.visibility="hidden")})}),this.element.addEventListener("mousedown",a=>{"INPUT"===a.target.tagName&&"submit"===a.target.getAttribute("type")&&(this.element.removeChild(a.target.parentElement),this.listSize--,1>l(this)&&this.addListItem())})),this.addListItem()}function d(a){const c=b.createElement("INPUT");return c.setAttribute("type",a.attr.type),c.setAttribute("placeholder",a.attr.placeholder),a.attr.minLength&&c.setAttribute("minLength",a.attr.minLength),a.attr.maxLength&&c.setAttribute("maxLength",a.attr.maxLength),c.setAttribute("required",""),c}function e(a){return!!a.checkValidity()||(a.reportValidity(),!1)}function f(a,c){const d=a.parentElement;console.log(d),d.removeChild(a),d.appendChild(b.createTextNode(a.value)),c.options.showDeleteButton&&d.appendChild(m())}function g(a,b){"submit"===a.target.getAttribute("type")||(a.target.parentElement.nextSibling||""!==a.target.value)&&(k(a.target,b)&&1<b.listSize?(console.log(a.target),b.element.removeChild(a.target.parentElement),b.listSize--):e(a.target)&&j(a.target,b)&&f(a.target,b))}function h(a,b){const c=d(b),e=a.querySelector("input[type=\"submit\"]");b.options.showDeleteButton&&e&&a.removeChild(e),c.value=a.innerText,a.removeChild(a.firstChild),a.appendChild(c)}function j(a,b){for(let c=0;c<b.inputChecks.length;c++){if(!b.inputChecks[c].callback(a.value))return a.setCustomValidity(b.inputChecks[c].message),!1;a.setCustomValidity("")}return!0}function k(a,b){return""===a.value&&(2<=l(b)||b.listSize>b.maxSize)}function l(a){const b=[...a.element.children];return b.reduce((a,b)=>b.firstElementChild&&"submit"!==b.firstElementChild.getAttribute("type")?++a:a,0)}function m(){const a=b.createElement("INPUT");return a.setAttribute("type","submit"),a.setAttribute("value","DEL"),a.setAttribute("style","background: firebrick; color: white; font-size: 0.7em; visibility: hidden; float: right; border: none;"),a}function n(a){a.target.firstElementChild&&"text"===a.target.firstElementChild.getAttribute("type")?a.preventDefault():(a.target.classList.add("dragging"),a.target.setAttribute("style","opacity: 0.5;"))}function o(a){a.target.classList.remove("dragging"),a.target.setAttribute("style","opacity: 1;")}c.prototype={setInputType:function(a){if(["email","date","month","number","time","week","text","password","url"].includes(a)){this.attr.type=a;const b=[...this.element.querySelectorAll("input")].filter(a=>"submit"!==a.getAttribute("type"));b.forEach(b=>{b.setAttribute("type",a)})}},setPlaceholder:function(a){this.attr.placeholder=a;const b=[...this.element.querySelectorAll("input")].filter(a=>"submit"!==a.getAttribute("type"));b.forEach(b=>{b.setAttribute("placeholder",a)})},setMinLength:function(a){this.attr.minLength=a;const b=[...this.element.querySelectorAll("input")].filter(a=>"submit"!==a.getAttribute("type"));b.forEach(b=>{b.setAttribute("minLength",a)})},setMaxLength:function(a){this.attr.maxLength=a;const b=[...this.element.querySelectorAll("input")].filter(a=>"submit"!==a.getAttribute("type"));b.forEach(b=>{b.setAttribute("maxLength",a)})},setId:function(a){this.element.id=a},addClasses:function(a){this.element.classList.add([...a])},removeClasses:function(a){this.element.classList.remove([...a])},addListItem:function(){if(this.listSize>this.maxSize)return;const a=b.createElement("LI"),c=d(this);a.appendChild(c),a.setAttribute("key",this.listSize),this.options.allowReorder&&(a.setAttribute("draggable",!0),a.addEventListener("dragstart",n),a.addEventListener("dragend",o)),this.element.appendChild(a),this.listSize++},addValidation:function(a,b="Invalid input"){this.inputChecks.push({callback:a,message:b})},addFromArray:function(a){let b=!1;this.element.lastElementChild.firstElementChild&&"submit"!==this.element.lastElementChild.firstElementChild.getAttribute("type")&&""===this.element.lastElementChild.firstElementChild.value&&(this.element.removeChild(this.element.lastElementChild),b=!0);for(let b=0;b<a.length;b++)this.addListItem(),this.element.lastElementChild.firstChild.value=a[b],f(this.element.lastElementChild.firstChild,this);b&&this.addListItem()},appendTo:function(a){const c=b.querySelector(a);c&&c.appendChild(this.element)},addBefore:function(a){const c=b.querySelector(a);c&&c.before(this.element)},addAfter:function(a){const c=b.querySelector(a);c&&c.after(this.element)},getData:function(){const a=[];for(let b=0;b<this.element.children.length;b++)this.element.children[b].firstElementChild||a.push(this.element.children[b].innerText);return a},getAllData:function(){const a=[];for(let b=0;b<this.element.children.length;b++)this.element.children[b].firstElementChild?a.push(this.element.children[b].firstElementChild.value):a.push(this.element.children[b].innerText);return""===a[this.element.children.length-1]&&a.pop(),a},setTheme:function(a){const b=Object.keys(a).reduce((b,c)=>{const d=a[c];return`${b} ${c}: ${d};`},"");this.element.style.cssText=b},simpleLight:{background:"white",color:"darkslategray","list-style":"inside square"},simpleDark:{background:"darkslategray",color:"ivory","list-style":"inside square"},cream:{background:"antiquewhite",color:"darkolivegreen","list-style":"inside '-'"},hacker:{background:"black",color:"lime","list-style":"inside '> '"},underwater:{background:"blue",color:"aquamarine","list-style":"inside '~~~'"},MLA:{"line-height":"2em",background:"white",color:"black"},PuTTY:{background:"black",color:"white","list-style":"inside '$ '"},emoji:{color:"teal","list-style":"'\\1F449'"},fire:{background:"red",color:"orange","list-style":"'\\1F525'"},elegant:{color:"black","list-style":"'\\261E '","font-family":"cursive, Brush Script MT"},typewriter:{background:"rgb(255, 253, 249)",color:"black","list-style":"inside '> '","font-family":"Courier New, Courier, monospace","text-transform":"lowercase"},checklist:{color:"green","list-style":"inside '\\2714'"},softSkyblue:{background:"#50b8e7",color:"#edf7fc","list-style":"inside '> '"},hacktoberfest:{background:"#e65339",color:"#fff","list-style":"'\\1F338'"}},a.ListExtender=a.ListExtender||c})(window,window.document);